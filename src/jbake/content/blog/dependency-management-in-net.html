title=Dependency Management in .NET
date=2011-12-17
type=post
tags=.NET, ant, dependency management, gradle, maven, Nuget
status=published
~~~~~~
<p>I have been a <a title="Java" href="http://www.oracle.com/technetwork/java/javase/overview/index.html" target="_blank">Java</a> developer for over 10 years, during which I have used <a title="Maven" href="http://maven.apache.org/" target="_blank">Maven</a> or one of it's successors (<a title="Gradle" href="http://gradle.org/" target="_blank">Gradle</a> or <a title="Ant" href="http://ant.apache.org/" target="_blank">Ant</a>+<a title="Apache Ivy" href="http://ant.apache.org/ivy/" target="_blank">Ivy</a>) for build and dependency management.  It was obvious to me early on that Maven's <a title="Dependency Management" href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html" target="_blank">dependency management</a> was its killer feature.  I began evangelizing Maven and converting teams to use it.  The days of checking .jar files into version control were over, and I rejoiced!</p><p>Six months ago, I started coaching a number of <a title="Microsoft .NET" href="http://www.microsoft.com/net" target="_blank">.NET</a> development teams on Agile Engineering best practices.  This was an eye-opening experience for me and I learned a lot about .NET.  While there were some bright spots, namely <a title="C Sharp, the programming Language" href="http://en.wikipedia.org/wiki/C_Sharp_(programming_language)" target="_blank">C#</a>, I was surprised how .NET seemed to be lacking in certain areas that were fairly mature in the Java community.  The most notable omision was the lack of a dependency management framework for .NET.</p><p>After my experiences with these teams, and discussing this problem with other .NET experts, I have come to realize that the standard practice is to check in .dlls to version control.  I was appalled.  When coaching teams on conduct unit testing, build automation, and continuous integration, I found the lack of a proper dependency management solution to be a huge problem.  Adding .dll's to version control works ok for third-party libraries, but when I want to consume a "working" version of another team's code as they change it, this becomes a burden that Maven solved gracefully.</p><p>I then discovered <a title="NuGet" href="http://nuget.codeplex.com/" target="_blank">NuGet</a>, and hope returned.  NuGet is a .NET open source project that's sole purpose is dependency management in .NET.  Yes, just what the agile engineering coach ordered.  Right?  Wrong.  NuGet, while a promising project, is still young and lacks numerous dependency management features.  NuGet was originally designed as a <a title="Microsoft Visual Studio IDE" href="http://msdn.microsoft.com/en-us/vstudio/aa718325" target="_blank">Visual Studio</a> extension for allowing developers to search for, download and add libraries to their solution.  Developers would then check in the .dlls to version control.  What!?  Isn't this what we are trying to avoid?</p><p>In reading the forums (<a title="Snapshot Functionality in NuGet" href="http://nuget.codeplex.com/discussions/238169" target="_blank">here</a>, <a title="NuGet for Large Teams" href="http://nuget.codeplex.com/discussions/268636" target="_blank">here</a>, <a title="NuGet Request" href="http://nuget.codeplex.com/discussions/268100" target="_blank">here</a>, and <a title="NuGet for Setup only" href="http://nuget.codeplex.com/discussions/236592" target="_blank">here</a>), it appears that users where complaining that NuGet wasn't doing enough dependency management.  In fact the project organizers were hesitant to add Maven-style dependency management.  "We need NuGet to support continuous integration!", the community cried.  Well thankfully, NuGet is an open source project and the features for restoring dependencies has been added to the <a title="NuGet 1.6 Release Notes" href="http://docs.nuget.org/docs/release-notes/nuget-1.6" target="_blank">1.6 release</a>.  With this release, you Nuget can be setup to restore packages that haven't been checked in, as well as support for "beta" releases.  For me, this change is still half cocked and fails to establish the benefits that Maven provided years ago.</p><p>NuGet is a promising young project and I hope that it will continue to grow and do well.  The .NET community desperately needs it to grow up fast and support more features.  In the spirit of open source development, I have done my part to support the project by submitting <a title="NuGet Bug Report" href="http://nuget.codeplex.com/workitem/1780" target="_blank">a bug report</a>.  I wish the Nuget team, as well as the rest of the .NET community the best of luck.</p>