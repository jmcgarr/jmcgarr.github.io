<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>GitFlow and Continuous Integration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The personal blog of J. Michael McGarr, professional automation rant monger.  Passionate about #devops #continuousDelivery #lean #agile">
    <meta name="author" content="https://twitter.com/jmichaelmcgarr">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/asciidoctor.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link href="/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="/css/extra.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,300,400' rel='stylesheet' type='text/css'>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-49993013-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </head>
  <body>
    <div id="fb-root"></div>
      <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <script src="//platform.linkedin.com/in.js" type="text/javascript">
     lang: en_US
    </script>
    <div id="wrap">
	
	<!-- Fixed navbar -->
      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="brand" href="/">Mike McGarr</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="/about.html">About</a></li>
                <li><a href="/archive.html">Posts</a></li>
                <li><a href="#">Talks</a></li>
                <li><a href="/feed.xml">Subscribe</a></li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </div>
      </div>
      <div class="container-fluid">
    <div class="row-fluid">
    
        <div class="span6 offset3">
	
        	<div class="page-header">
        		<h1>GitFlow and Continuous Integration</h1>
        	</div>

        	<p><em>September 14 2011</em></p>
            <p><em>Tags: </em>
                <a href="/tags/artifactory.html">artifactory</a> 
            </em>
                <a href="/tags/branching.html"> branching</a> 
            </em>
                <a href="/tags/continuous-integration.html"> continuous integration</a> 
            </em>
                <a href="/tags/dvcs.html"> dvcs</a> 
            </em>
                <a href="/tags/git.html"> git</a> 
            </em>
                <a href="/tags/gitflow.html"> gitflow</a> 
            </em>
                <a href="/tags/github.html"> github</a> 
            </em>
                <a href="/tags/gradle.html"> gradle</a> 
            </em>
                <a href="/tags/Java.html"> Java</a> 
            </em>
                <a href="/tags/jenkins.html"> jenkins</a> 
            </p>
            <p style="float:left">
                <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html" data-via="jMichaelMcGarr" data-lang="fr">Tweeter</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                <div class="g-plusone" data-size="medium" data-href="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html"></div>
                <script id='fbvpgng'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=jMichaelMcGarr&button=compact&url='+encodeURIComponent('http://www.mikemcgarr.com/blog/blog/dvcs-ci.html');f.title='Flattr';f.height=20;f.width=110;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fbvpgng');</script>
                <script type="IN/Share" data-url="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html" data-counter="right"></script>
                <div class="fb-like" data-href="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div>
            </p>

        	<p><p>I came across an <a title="James Carr - My Current Java Workflow" href="http://blog.james-carr.org/2011/09/09/my-current-java-workflow/" target="_blank">interesting blog post</a> by James Carr discussing his workflow when building Java applications.  In general, I think that the stack and process he mentions is top notch.  I love <a title="Gradle" href="http://www.gradle.org/" target="_blank">Gradle</a>, <a title="Jenkins" href="http://jenkins-ci.org/" target="_blank">Jenkins</a>, <a title="Artifactory" href="http://www.jfrog.com/products.php" target="_blank">Artifactory</a> and <a title="Git" href="http://git-scm.com/" target="_blank">Git</a>/<a title="GitHub" href="https://github.com/" target="_blank">GitHub</a>.  I have been playing with or using in production all of these tools and they are amazing.  I especially like how the article provides a tutorial on how to setup your project to look just like his, something I will definitely try.</p>
<p>Where the article raised questions for me was when James started talking about <a title="GitFlow" href="https://github.com/nvie/gitflow" target="_blank">GitFlow</a> and Vincent Driessen's <a title="Vincent Driessen's Git Branching Model" href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank">Git Branching Model</a>.  If you haven't read this article, I recommend you stop and go read it now.</p>
<p>Vincent's approach to using Git takes full advantage of a major feature provided in DVCS, <a title="Why git is better than X - Cheap Local Branching" href="http://whygitisbetterthanx.com/#cheap-local-branching" target="_blank">cheap local branching</a>.  As an advocate of <a title="Continuous Integration" href="http://martinfowler.com/articles/continuousIntegration.html" target="_blank">continuous integration</a> however, I have always recommended that one should avoid the approach of excessive branching.  One of the principle practices of continuous integration is:</p>
<blockquote><p>Everyone commits to the mainline everyday</p></blockquote>
<p>Martin Fowler goes on to say,</p>
<blockquote><p>"In practice it's often useful if developers commit more frequently than that. The more frequently you commit, the less places you have to look for conflict errors, and the more rapidly you fix conflicts."</p></blockquote>
<p>So taking this a basic rule of thumb, does Vincent's branching model conflict with continuous integration?  The short answer is no, so long as the developers are only branching locally and are pushing their changes to <em>origin</em> (the centralized git repository) daily.</p>
<p>In Vincent's approach however, he says</p>
<blockquote><p>"But besides the centralized push-pull relationships, each developer may also pull changes from other peers to form sub teams. For example, this might be useful to work together with two or more developers on a big new feature, before pushing the work in progress to <code>origin</code> prematurely."</p></blockquote>
<p>This is an approach to feature branching Martin Fowler calls <a title="Martin Fowler on Feature Branching " href="http://martinfowler.com/bliki/FeatureBranch.html" target="_blank">Promiscuous Integration</a>.  Martin Fowler attempts to assess whether the concept of promiscuous integration is a good idea or not.  I recommend you read the article yourself, but he ends up saying he thinks it's not the best idea (but doesn't outright say don't do it).  He recommends using <a title="Feature Toggles" href="http://martinfowler.com/bliki/FeatureToggle.html" target="_blank">Feature Toggles</a> or <a title="Branch by Abstraction" href="http://martinfowler.com/bliki/BranchByAbstraction.html" target="_blank">Branch by Abstraction</a> as approaches to avoiding Feature Branches in long running development cycles.  This same advice is reinforced in the book <a title="Continuous Delivery" href="http://www.amazon.com/Continuous-Delivery-Deployment-Automation-Addison-Wesley/dp/0321601912" target="_blank">Continuous Delivery</a> by <a title="Jez Humble" href="http://jezhumble.net/" target="_blank">Jez Humble</a> and <a title="Dave Farley" href="http://www.davefarley.net" target="_blank">Dave Farley</a>.  I highly recommend this book!</p>
<p>So, what does one do with this information?  Is use of GitFlow or promiscuous integration a bad idea?  I think that it can work very well for some teams and could be very dangerous in others.  In general, I like it when the VCS stays out of the way and the team gets in the habit of pushing changes and looking to the CI server validation that everything is ok.  Introducing promiscuous integration could interrupt this cycle and allow code changes to circumvention the mainline longer than they should.  This branching scheme feels complex, even with the addition of GitFlow.</p>
<p>I plan on trying GitFlow and further investigating it's merits, hopefully writting a more in depth analysis of how it works.  I think that it is an interesting idea (worth blogging about) and has a lot of potential.  I would love to hear what you think about GitFlow, promiscuous integration, feature branching and how they are good or bad, so please comment below!</p>
</p>

            <p style="float:left">
                <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html" data-via="jMichaelMcGarr" data-lang="fr">Tweeter</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                <div class="g-plusone" data-size="medium" data-href="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html"></div>
                <script type="IN/Share" data-url="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html" data-counter="right"></script>
                <div class="fb-like" data-href="http://www.mikemcgarr.com/blog/blog/dvcs-ci.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div>
            </p>

            <hr>

            <div id="disqus_thread">
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'mikemcgarr'; // required: replace example with your forum shortname

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">All posts on this blog are published with a <em>Creative Commons by-nc-sa</em> license.<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"/></a></p>
        <p class="muted credit">&copy; 2013 | Mixed with <a href="http://twitter.github.com/bootstrap/">Bootstrap v2.3.1</a> | Baked with <a href="http://jbake.org">JBake v2.3.0</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery-1.9.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/run_prettify.js"></script>
    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/platform.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
  </body>
</html>